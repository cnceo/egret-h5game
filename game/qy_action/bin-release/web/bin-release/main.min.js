var Action_Lose=function(t){function e(){t.apply(this,arguments),this._tween_y=null,this._tween_book_x=null,this._tween_renwu_x=null,this._tween_light_alpha=null,this._tween_light_rotation=null,this._tween_xunzhang_alpha=null}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createChildren=function(){t.prototype.createChildren.call(this)},n.start=function(t){var e=this;this.clean(),1==t?(this.img_title.source="txt_tzsb_png",this._tween_renwu_x=egret.Tween.get(this.img_renwu).wait(300).to({x:170},200),this._tween_book_x=egret.Tween.get(this.img_book).wait(500).to({x:375},200,egret.Ease.backOut)):(this.img_title.source="txt_cgsb_png",this._tween_xunzhang_alpha=egret.Tween.get(this.img_xunzhang).wait(300).to({alpha:1},500)),this._tween_light_alpha=egret.Tween.get(this.com_light).wait(400).to({alpha:1},700),this._tween_y=egret.Tween.get(this.g_title).to({y:290},300,egret.Ease.backOut),egret.setTimeout(function(){e._tween_light_rotation=egret.Tween.get(e.com_light,{loop:!0}).to({rotation:360},8e3)},this,400)},n.clean=function(){this.g_title.y=-170,this.img_book.x=650,this.img_renwu.x=-230,this.com_light.alpha=0,this.com_light.rotation=0,this.img_xunzhang.alpha=0,this._tween_y&&(this._tween_y.setPaused(!0),this._tween_y=null),this._tween_renwu_x&&(this._tween_renwu_x.setPaused(!0),this._tween_renwu_x=null),this._tween_book_x&&(this._tween_book_x.setPaused(!0),this._tween_book_x=null),this._tween_light_alpha&&(this._tween_light_alpha.setPaused(!0),this._tween_light_alpha=null),this._tween_light_rotation&&(this._tween_light_rotation.setPaused(!0),this._tween_light_rotation=null),this._tween_xunzhang_alpha&&(this._tween_xunzhang_alpha.setPaused(!0),this._tween_xunzhang_alpha=null)},e}(eui.Component);egret.registerClass(Action_Lose,"Action_Lose");var Action_PaoWuXian=function(t){function e(){t.apply(this,arguments),this.timer_action=null,this._tween_alpha=null}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createChildren=function(){t.prototype.createChildren.call(this)},n.start=function(t){this.scale_rate=.6*Math.random()+.3,this.callback=t,this.img_star=new eui.Image,this.img_star.source="icon_star1_png",this.addChild(this.img_star),this.img_star.x=-this.scale_rate*this.img_star.width/2,this.img_star.y=-this.scale_rate*this.img_star.height/2,Math.random()<.5?this.speed_x=10+5*Math.random():this.speed_x=-10-5*Math.random(),this.speed_y=-20-10*Math.random(),this.speed_add_y=1+1.2*Math.random(),this.img_star.scaleX=this.scale_rate,this.img_star.scaleY=this.scale_rate,this.timer_action=new egret.Timer(50),this.timer_action.addEventListener(egret.TimerEvent.TIMER,this.onAction,this),this.timer_action.start()},n.onAction=function(t){this.speed_y+=this.speed_add_y,this.img_star.x=this.img_star.x+this.speed_x,this.img_star.y=this.img_star.y+this.speed_y,null==this._tween_alpha&&this.speed_y>0&&(this._tween_alpha=egret.Tween.get(this.img_star).to({alpha:0},400)),(this.img_star.x+this.x<-this.scale_rate*this.img_star.width||this.img_star.x+this.x>640+this.scale_rate*this.img_star.width)&&(this.timer_action&&(this.timer_action.stop(),this.timer_action.removeEventListener(egret.TimerEvent.TIMER,this.onAction,this),this.timer_action=null),this.callback&&this.callback())},e}(eui.Component);egret.registerClass(Action_PaoWuXian,"Action_PaoWuXian");var Action_Win=function(t){function e(){t.apply(this,arguments),this._tween_y=null,this._tween_book_x=null,this._tween_renwu_x=null,this._tween_caidai_alpha=null,this._tween_light_alpha=null,this._tween_light_rotation=null,this._tween_Star_rotation=[],this._tween_Star_alpha=null,this.com_star=[],this._tween_xunzhang_alpha=null,this._tween_jian_alpha0=null,this._tween_jian_rotation0=null,this._tween_jian_alpha1=null,this._tween_jian_rotation1=null,this._tween_jian_x0=null,this._tween_jian_x1=null}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createChildren=function(){t.prototype.createChildren.call(this);for(var e=0;6>e;e++){var i=this["com_star"+e];this.com_star[e]=i,this._tween_Star_rotation[e]=null}},n.start=function(t){var e=this;this.clean(),2==t?(this.img_title.source="txt_cgcg_png",this._tween_renwu_x=egret.Tween.get(this.img_renwu).wait(300).to({x:170},200),this._tween_book_x=egret.Tween.get(this.img_book).wait(500).to({x:375},200,egret.Ease.backOut)):(0==t?this.img_title.source="txt_tzsl_png":1==t&&(this.img_title.source="txt_tzwc_png"),this._tween_xunzhang_alpha=egret.Tween.get(this.img_xunzhang).wait(300).to({alpha:1},500),this._tween_jian_alpha0=egret.Tween.get(this.com_jian0).wait(600).to({alpha:1},400),this._tween_jian_alpha1=egret.Tween.get(this.com_jian1).wait(600).to({alpha:1},400),this._tween_jian_x0=egret.Tween.get(this.com_jian0).wait(800).to({x:230},500,egret.Ease.backOut),this._tween_jian_x1=egret.Tween.get(this.com_jian1).wait(800).to({x:415},500,egret.Ease.backOut),this._tween_jian_rotation0=egret.Tween.get(this.com_jian0).wait(800).to({rotation:0},500,egret.Ease.backOut),this._tween_jian_rotation1=egret.Tween.get(this.com_jian1).wait(800).to({rotation:0},500,egret.Ease.backOut)),this._tween_Star_alpha=egret.Tween.get(this.g_star).wait(400).to({alpha:1},700),this._tween_light_alpha=egret.Tween.get(this.com_light).wait(400).to({alpha:1},700),this._tween_y=egret.Tween.get(this.g_title).to({y:290},300,egret.Ease.backOut),this._tween_caidai_alpha=egret.Tween.get(this.img_caidai).wait(400).to({alpha:1},700),egret.setTimeout(function(){e._tween_light_rotation=egret.Tween.get(e.com_light,{loop:!0}).to({rotation:360},8e3);for(var t=0;6>t;t++)e.startStarAction(t);e.showAcionAll(),egret.setTimeout(function(){e.showAcionAll()},e,100),egret.setTimeout(function(){e.showAcionAll()},e,200),egret.setTimeout(function(){e.showAcionAll()},e,300)},this,400)},n.showAcionAll=function(){for(var t=3+Math.floor(5*Math.random()),e=0;t>e;e++)this.showAcion()},n.showAcion=function(){var t=this,e=new Action_PaoWuXian;this.g_action.addChild(e),e.x=260+120*Math.random(),e.y=300+30*Math.random(),e.start(function(){t.g_action.removeChild(e)})},n.startStarAction=function(t){var e=5e3+Math.floor(2e3*Math.random()),i=Math.floor(180*Math.random());this.com_star[t].rotation=i,Math.random()<.5?this._tween_Star_rotation[t]=egret.Tween.get(this.com_star[t],{loop:!0}).to({rotation:360},e*(360-i)/360).to({rotation:i+360},e*i/360):this._tween_Star_rotation[t]=egret.Tween.get(this.com_star[t],{loop:!0}).to({rotation:0},e*i/360).to({rotation:i-360},e*(360-i)/360)},n.clean=function(){this.g_star.alpha=0,this.g_title.y=-170,this.img_book.x=650,this.img_renwu.x=-230,this.img_caidai.alpha=0,this.com_light.alpha=0,this.com_light.rotation=0,this.img_xunzhang.alpha=0,this.com_jian0.alpha=0,this.com_jian1.alpha=0,this.com_jian0.rotation=-30,this.com_jian1.rotation=30,this.com_jian0.x=180,this.com_jian1.x=465,this._tween_y&&(this._tween_y.setPaused(!0),this._tween_y=null),this._tween_renwu_x&&(this._tween_renwu_x.setPaused(!0),this._tween_renwu_x=null),this._tween_caidai_alpha&&(this._tween_caidai_alpha.setPaused(!0),this._tween_caidai_alpha=null),this._tween_book_x&&(this._tween_book_x.setPaused(!0),this._tween_book_x=null),this._tween_light_alpha&&(this._tween_light_alpha.setPaused(!0),this._tween_light_alpha=null),this._tween_light_rotation&&(this._tween_light_rotation.setPaused(!0),this._tween_light_rotation=null);for(var t=0;6>t;t++)this._tween_Star_rotation[t]&&(this._tween_Star_rotation[t].setPaused(!0),this._tween_Star_rotation[t]=null);this._tween_xunzhang_alpha&&(this._tween_xunzhang_alpha.setPaused(!0),this._tween_xunzhang_alpha=null),this._tween_jian_alpha0&&(this._tween_jian_alpha0.setPaused(!0),this._tween_jian_alpha0=null),this._tween_jian_rotation0&&(this._tween_jian_rotation0.setPaused(!0),this._tween_jian_rotation0=null),this._tween_jian_alpha1&&(this._tween_jian_alpha1.setPaused(!0),this._tween_jian_alpha1=null),this._tween_jian_rotation1&&(this._tween_jian_rotation1.setPaused(!0),this._tween_jian_rotation1=null),this._tween_jian_x0&&(this._tween_jian_x0.setPaused(!0),this._tween_jian_x0=null),this._tween_jian_x1&&(this._tween_jian_x1.setPaused(!0),this._tween_jian_x1=null)},e}(eui.Component);egret.registerClass(Action_Win,"Action_Win");var AssetAdapter=function(){function t(){}var e=(__define,t),i=e.prototype;return i.getAsset=function(t,e,i){function n(n){e.call(i,n,t)}if(RES.hasRes(t)){var s=RES.getRes(t);s?n(s):RES.getResAsync(t,n,this)}else RES.getResByUrl(t,n,this,RES.ResourceItem.TYPE_IMAGE)},t}();egret.registerClass(AssetAdapter,"AssetAdapter",["eui.IAssetAdapter"]);var basic;!function(t){var e;!function(e){var i=function(){function t(){}var e=(__define,t);e.prototype;return t.centerPopUp=function(t){t.horizontalCenter=t.verticalCenter=0},t.centerHorizontal=function(t){t.horizontalCenter=0},t.centerVertical=function(t){t.verticalCenter=0},t.notCenterPopUp=function(t){t.horizontalCenter=t.verticalCenter=0/0},t.getCenterPos=function(t){var e=0,i=0,n=t.parent;return n&&(e=.5*(n.width-t.width),i=.5*(n.height-t.height)),{x:e,y:i}},t.transDirection=function(t){var e;switch(t){case"up":e=0;break;case"right":e=1;break;case"bottom":e=2;break;case"left":e=3}return e},t}();e.Utils=i,egret.registerClass(i,"basic.dialogEffect.Utils");var n=function(){function t(){}var e=(__define,t),n=e.prototype;return n.show=function(t,e,n,s,a){e.addChild(t),i.centerPopUp(t)},n.hide=function(t,e,i,n,s){e.removeChild(t)},t}();e.None=n,egret.registerClass(n,"basic.dialogEffect.None",["basic.dialogEffect.IDialogEffect"]);var s=function(){function t(){}var e=(__define,t),n=e.prototype;return n.show=function(e,n,s,a,o){e.alpha=0,n.addChild(e),i.centerPopUp(e);var r=o&&o.duration||t.DEFAULT_DURATION;egret.Tween.get(e).to({alpha:1},r)},n.hide=function(e,i,n,s,a){var o=a&&a.duration||t.DEFAULT_DURATION;egret.Tween.get(e).to({alpha:0},o).call(function(){i.removeChild(e)},this)},t.DEFAULT_DURATION=200,t}();e.Fade=s,egret.registerClass(s,"basic.dialogEffect.Fade",["basic.dialogEffect.IDialogEffect"]);var a=function(){function e(){}var n=(__define,e),s=n.prototype;return s.show=function(n,s,a,o,r){e.outPos||(e.outPos=[[0,-t.StageProxy.height],[t.StageProxy.width,0],[0,t.StageProxy.height],[-t.StageProxy.width,0]]),s.addChild(n),i.notCenterPopUp(n),s.width=t.StageProxy.width;var h=e.outPos[i.transDirection(r.direction)],c=i.getCenterPos(n);n.x=0==h[0]?c.x:h[0],n.y=0==h[1]?c.y:h[1];var l=r&&r.duration||e.DEFAULT_DURATION,_={x:c.x,y:c.y};egret.Tween.get(n).to(_,l,r?r.ease:null),r&&r.withFade&&egret.Tween.get(n).to({alpha:1},l)},s.hide=function(t,n,s,a,o){var r=e.outPos[i.transDirection(o.direction)],h=o&&o.duration||e.DEFAULT_DURATION,c=i.getCenterPos(t),l={x:0==r[0]?c.x:r[0],y:0==r[1]?c.y:r[1]};egret.Tween.get(t).to(l,h,o?o.ease:null).call(function(){n.removeChild(t),i.centerPopUp(t)},this),o&&o.withFade&&egret.Tween.get(t).to({alpha:0},h)},e.DEFAULT_DURATION=500,e}();e.Flew=a,egret.registerClass(a,"basic.dialogEffect.Flew",["basic.dialogEffect.IDialogEffect"]);var o=function(){function t(){}var e=(__define,t),n=e.prototype;return n.show=function(e,n,s,a,o){var r=o&&o.duration||t.DEFAULT_DURATION;e.scaleX=e.scaleY=0;var h={scaleX:1,scaleY:1};n.addChild(e),i.centerPopUp(e),egret.Tween.get(e).to(h,r,o?o.ease:null),o&&o.withFade&&egret.Tween.get(e).to({alpha:1},r)},n.hide=function(e,i,n,s,a){var o=a&&a.duration||t.DEFAULT_DURATION;e.scaleX=e.scaleY=1;var r={scaleX:0,scaleY:0};egret.Tween.get(e).to(r,o,a?a.ease:null).call(function(){i.removeChild(e),e.scaleX=e.scaleY=1},this),a&&a.withFade&&egret.Tween.get(e).to({alpha:0},o)},t.DEFAULT_DURATION=200,t}();e.Scale=o,egret.registerClass(o,"basic.dialogEffect.Scale",["basic.dialogEffect.IDialogEffect"])}(e=t.dialogEffect||(t.dialogEffect={}))}(basic||(basic={}));var basic;!function(t){var e=function(e){function i(i,n,s,a,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===o&&(o=!0),e.call(this),this._excludeActionsClose=[],this.showEffect=i||t.dialogEffect.None,this.showEffectParams=n,this.closeEffect=s||t.dialogEffect.None,this.closeEffectParams=a,this.popupShowBanner=o,this.init()}__extends(i,e);var n=(__define,i),s=n.prototype;return s.init=function(){},s.addExcludeForClose=function(t){this._excludeActionsClose=this._excludeActionsClose.concat(t)},s.dealAction=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this._callback&&this._callback(t||"close",e),this._excludeActionsClose.indexOf(t)<0&&this.close()},s.popup=function(e,i){void 0===e&&(e=null),void 0===i&&(i=!0),t.PopUpManager.addPopUp(this,this.showEffect,this.showEffectParams,e,i)},s.close=function(){t.PopUpManager.removePopUp(this,this.closeEffect,this.closeEffectParams)},i}(eui.Component);t.PanelBase=e,egret.registerClass(e,"basic.PanelBase")}(basic||(basic={}));var basic;!function(t){var e=function(){function e(){this._pupUpStack=[],this._popLayer=t.SceneManager.instance.popLayer}var i=__define,n=e,s=n.prototype;return i(e,"instance",function(){return void 0==e._instance&&(e._instance=new e),e._instance}),e.addPopUp=function(t,i,n,s,a){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=!0),e.instance.addPopUp(t,i,n,s,a)},e.removePopUp=function(t,i,n){void 0===i&&(i=null),void 0===n&&(n=null),e.instance.removePopUp(t,i,n)},s.addPopUp=function(t,e,i,n,s){if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=!0),!t.parent){this._pupUpStack.unshift({target:t,modalTouchFun:n,modal:s}),this.updateModalMask(this._pupUpStack[0]);var a=this.createEffectInstance(e);a.show(t,this._popLayer,function(){},this,i)}},s.removePopUp=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=null),t.parent){this.getInStack(t,!0);var n;this._pupUpStack.some(function(t){return t.modal?(n=t,!0):void 0}),n?this.updateModalMask(n):this.setModalMaskVisible(!1);var s=this.createEffectInstance(e);s.hide(t,this._popLayer,function(){},this,i)}},s.removeTopPupUp=function(){if(this._popLayer.numChildren>0){var t=this._popLayer.getChildAt(this._popLayer.numChildren-1);return t.close(),!0}return!1},s.getInStack=function(t,e){void 0===e&&(e=!1);var i;return this._pupUpStack.some(function(e,n){return e.target==t?(i={item:e,index:n},!0):void 0}),i&&e&&this._pupUpStack.splice(i.index,1),i},s.createEffectInstance=function(e){void 0===e&&(e=null);var i;return i=e?new e:new t.dialogEffect.None},s.onModalMaskTap=function(t){var e=this._pupUpStack[0];e&&e.modal&&e.modalTouchFun&&e.modalTouchFun()},s.updateModalMask=function(t){var e=this._popLayer.getChildIndex(this._modalMask),i=this._popLayer.getChildIndex(t.target);e!=i-1&&this.setModalMaskVisible(!0,i)},s.setModalMaskVisible=function(t,i){void 0===i&&(i=-1),t?(this.modalMask.fillColor=e.modalMaskColor,this.modalMask.fillAlpha=e.modalMaskAlpha,this.modalMask.alpha=0,0==e.modalMaskIsShow?this.modalMask.visible=!1:this.modalMask.visible=!0,i>=0?(this.setModalMaskVisible(!0),this._popLayer.addChildAt(this.modalMask,i)):this._popLayer.addChild(this.modalMask),egret.Tween.get(this.modalMask).to({alpha:1},e.modalMaskDuration)):this.modalMask.parent&&egret.Tween.get(this.modalMask).to({alpha:0},e.modalMaskDuration).call(function(t){this._popLayer.removeChild(t)},this,[this.modalMask])},i(s,"modalMask",function(){return this._modalMask||(this._modalMask=new eui.Rect,this._modalMask.width=t.StageProxy.width,this._modalMask.height=t.StageProxy.height,this._modalMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onModalMaskTap,this)),this._modalMask}),e.modalMaskColor=0,e.modalMaskAlpha=.6,e.modalMaskDuration=200,e.modalMaskIsShow=!0,e}();t.PopUpManager=e,egret.registerClass(e,"basic.PopUpManager")}(basic||(basic={}));var basic;!function(t){var e=function(e){function i(){e.call(this),this.touchChildren=!0,this.touchEnabled=!1,this.width=t.StageProxy.stage.stageWidth,this.height=t.StageProxy.stage.stageHeight}__extends(i,e);var n=(__define,i),s=n.prototype;return s._beforeShow=function(t){void 0===t&&(t=null),this.beforeShow(t)},s._beforeHide=function(t){void 0===t&&(t=null),this.beforeHide(t)},s._onShow=function(t){void 0===t&&(t=null),this.onShow(t)},s._onHide=function(t){void 0===t&&(t=null),this.onHide(t)},s.beforeShow=function(t){void 0===t&&(t=null)},s.beforeHide=function(t){void 0===t&&(t=null)},s.onShow=function(t){void 0===t&&(t=null)},s.onHide=function(t){void 0===t&&(t=null)},i}(eui.Component);t.SceneBase=e,egret.registerClass(e,"basic.SceneBase")}(basic||(basic={}));var basic;!function(t){var e;!function(t){var e=function(){function t(){}var e=(__define,t),i=e.prototype;return i.handover=function(t,e,i,n){void 0===n&&(n=null),t&&(t.visible=!1,i.removeChild(t)),e.alpha=1,e.visible=!0,i.addChild(e),n&&n()},t}();t.None=e,egret.registerClass(e,"basic.sceneEffect.None",["basic.sceneEffect.ISceneEffect"]);var i=function(){function t(){}var e=(__define,t),i=e.prototype;return i.handover=function(t,e,i,n){void 0===n&&(n=null),egret.Tween.get(t).to({alpha:0},500),e.alpha=0,e.visible=!0,i.addChild(e),egret.Tween.get(e).to({alpha:1},500).call(function(){i.removeChild(t),n&&n()})},t}();t.Fade=i,egret.registerClass(i,"basic.sceneEffect.Fade",["basic.sceneEffect.ISceneEffect"]);var n=function(){function t(){}var e=(__define,t),i=e.prototype;return i.handover=function(t,e,i,n){function s(){egret.Tween.get(e).to({alpha:1},500).call(function(){n&&n()},this)}void 0===n&&(n=null),e.alpha=0,e.visible=!0,i.addChild(e),t?egret.Tween.get(t).to({alpha:0},500).call(function(){i.removeChild(t),s()},this):s()},t}();t.FadeBlack=n,egret.registerClass(n,"basic.sceneEffect.FadeBlack",["basic.sceneEffect.ISceneEffect"])}(e=t.sceneEffect||(t.sceneEffect={}))}(basic||(basic={}));var basic;!function(t){var e=function(){function e(){this.topScene=null,this.mapScene=new t.HashMap,this.mapSceneDef=new t.HashMap,this.mapTopScene=new t.HashMap,this.mapBottomScene=new t.HashMap}var n=__define,s=e,a=s.prototype;return n(e,"instance",function(){return void 0==this._instance&&(this._instance=new e),this._instance}),e.init=function(t){e.instance.init(t)},e.addTopScene=function(t){e.instance.addTopScene(t)},e.removeTopScene=function(t){e.instance.removeTopScene(t)},e.addBottomScene=function(t){e.instance.addBottomScene(t)},e.removeBottomScene=function(t){e.instance.removeBottomScene(t)},e.register=function(t,i,n){void 0===n&&(n=null),e.instance.register(t,i,n)},e.show=function(t,i,n,s,a,o){void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=!1),void 0===o&&(o=null),e.instance.show(t,i,n,s,a,o)},e.back=function(t,i,n){return void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=null),e.instance.back(t,i,n)},a.init=function(t){this.root=t,this.root.addChild(this.bottomLayer=new eui.Group),this.root.addChild(this.middleLayer=new eui.Group),this.root.addChild(this.topLayer=new eui.Group),this.root.addChild(this.popLayer=new eui.Group),this.bottomLayer.touchEnabled=!1,this.middleLayer.touchEnabled=!1,this.topLayer.touchEnabled=!1,this.popLayer.touchEnabled=!1},a.addTopScene=function(t){if(this.mapTopScene.containsKey(t))this.topLayer.setChildIndex(this.mapTopScene.get(t),this.topLayer.numChildren-1);else{var e,i=this.mapSceneDef.get(t),n=i.sceneDef;e=new n,this.mapTopScene.put(t,e),this.topLayer.addChild(this.mapTopScene.get(t)),this.mapTopScene.get(t)._beforeShow(null)}},a.removeTopScene=function(t){this.mapTopScene.containsKey(t)&&(this.mapTopScene.get(t)._beforeHide(null),this.topLayer.removeChild(this.mapTopScene.get(t)),this.mapTopScene.remove(t))},a.addBottomScene=function(t){if(this.mapBottomScene.containsKey(t))this.bottomLayer.setChildIndex(this.mapBottomScene.get(t),this.topLayer.numChildren-1);else{var e,i=this.mapSceneDef.get(t),n=i.sceneDef;e=new n,this.mapBottomScene.put(t,e),this.bottomLayer.addChild(this.mapBottomScene.get(t)),this.mapBottomScene.get(t)._beforeShow(null)}},a.removeBottomScene=function(t){this.mapBottomScene.containsKey(t)&&(this.mapBottomScene.get(t)._beforeHide(null),this.bottomLayer.removeChild(this.mapBottomScene.get(t)),this.mapBottomScene.remove(t))},a.register=function(t,e,n){void 0===n&&(n=null),this.mapSceneDef.put(t,new i(e,n))},a.show=function(e,i,n,s,a,o){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),void 0===a&&(a=!1),void 0===o&&(o=null),this.currentSceneName!=e){var r,h;if(this.mapScene.containsKey(e))h=this.mapScene.get(e);else{var c=this.mapSceneDef.get(e),l=c.sceneDef;h=new l,this.mapScene.put(e,h)}!r&&this.currentSceneName?(r=n?new n:new t.sceneEffect.None,this.currentScene._beforeHide(i)):r=new t.sceneEffect.FadeBlack,h.touchChildren=!1,r.handover(this.currentScene,h,this.middleLayer,function(t,e){t&&t._onHide(i),e.touchChildren=!0,e._onShow(i),s&&s()}.bind(this,this.currentScene,h)),this.currentScene=h,this.currentSceneName=e,a?this.lastSceneName=e:(this.currentScene.lastSceneName=null!=o?o:this.lastSceneName,this.lastSceneName=e),this.currentScene._beforeShow(i)}},a.back=function(t,e,i){return void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),this.currentScene.lastSceneName&&""!=this.currentScene.lastSceneName?(this.show(this.currentScene.lastSceneName,t,e,i,!0),!0):!1},e}();t.SceneManager=e,egret.registerClass(e,"basic.SceneManager");var i=function(){function t(t,e){void 0===e&&(e=null),this.sceneDef=t,this.resPack=e}var e=(__define,t);e.prototype;return t}();t.SceneConfig=i,egret.registerClass(i,"basic.SceneConfig");var n=function(){function t(t,e,i,n,s){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=!1),this.params=null,this.effectDef=null,this.callback=null,this.back=null,this.name=t,this.params=e,this.effectDef=i,this.callback=n,this.back=s}var e=(__define,t);e.prototype;return t}();t.ShowEntity=n,egret.registerClass(n,"basic.ShowEntity")}(basic||(basic={}));var basic;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.init=function(){t.eventDispatcher=new egret.EventDispatcher},t.dispatch=function(e,i){void 0===i&&(i=null),i?t.eventDispatcher.dispatchEventWith(e,!1,i):t.eventDispatcher.dispatchEvent(new egret.Event(e))},t.addListener=function(e,i,n){t.eventDispatcher.addEventListener(e,i,n)},t.removeListener=function(e,i,n){t.eventDispatcher.removeEventListener(e,i,n)},t}();t.Dispatcher=e,egret.registerClass(e,"basic.Dispatcher")}(basic||(basic={}));var basic;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.init=function(t){this.ID=t},t.getItem=function(t){return egret.localStorage.getItem(this.ID&&""!=this.ID?this.ID+"_"+t:t)},t.setItem=function(t,e){return egret.localStorage.setItem(this.ID&&""!=this.ID?this.ID+"_"+t:t,e)},t.getItemObj=function(t,e){void 0===e&&(e=null);var i;try{i=JSON.parse(this.getItem(t))}catch(n){}return i||(i=e),i},t.setItemObj=function(t,e){return this.setItem(t,JSON.stringify(e))},t}();t.localStorage=e,egret.registerClass(e,"basic.localStorage")}(basic||(basic={}));var basic;!function(t){var e=function(t){function e(){t.call(this),egret.ExternalInterface.addCallback("egretCall",this.egretCall.bind(this))}__extends(e,t);var i=__define,n=e,s=n.prototype;return i(e,"instance",function(){return void 0==this._instance&&(this._instance=new e),this._instance}),e.call=function(t,e){void 0===e&&(e=null),this.instance.call(t,e)},i(s,"isNative",function(){return egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE}),s.egretCall=function(t){var e=JSON.parse(t),i=e.method;this.dispatchEventWith(i,!1,e)},s.call=function(t,e){void 0===e&&(e=null),e=e||{},e.method=t,egret.ExternalInterface.call("nativeCall",JSON.stringify(e))},s.navigateToUrl=function(t){this.isNative?this.call("navigateToUrl",{url:t}):location.href=t},s.closeApp=function(){this.call("closeApp")},s.showBanner=function(){this.isNative&&this.call("showBanner")},s.hideBanner=function(){this.isNative&&this.call("hideBanner")},s.showInterstitial=function(){this.isNative&&this.call("showInterstitial")},s.jumpApp=function(t){this.isNative?this.call("jumpApp",t):this.navigateToUrl(t.android_apk_url)},s.openAppMarket=function(){this.isNative&&this.call("openAppMarket",{})},s.share=function(t,e,i,n,s){this.isNative&&this.call("share",{title:t,name:e,description:i,picture:n,link:s})},s.shareSystem=function(t,e,i){this.isNative?this.call("shareSystem",{title:t,description:e}):this.share(t,"",e,"",i)},s.sendEvent=function(t,e){this.isNative&&this.call("sendEvent",{eventId:t,params:e})},e}(egret.EventDispatcher);t.Native=e,egret.registerClass(e,"basic.Native")}(basic||(basic={}));var basic;!function(t){var e=function(){function e(){}var i=__define,n=e,s=n.prototype;return i(e,"instance",function(){return void 0==this._instance&&(this._instance=new e),this._instance}),s.playMusic=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=1),t&&(this.musicRes=t),!this.musicMute){this.stopMusic();var i=RES.getRes(this.musicRes);this.musicChannel=i.play(0,e),this.musicChannel.volume=this.musicVolume,this.musicChannel.addEventListener(egret.Event.SOUND_COMPLETE,this.onMusicComplete,this)}},s.onMusicComplete=function(t){this.stopMusic()},s.stopMusic=function(){this.musicChannel&&(this.musicChannel.stop(),this.musicChannel.removeEventListener(egret.Event.SOUND_COMPLETE,this.onMusicComplete,this),this.musicChannel=null)},s.switchMusic=function(){this.musicMute=!this.musicMute,this.musicRes&&(this.musicMute?this.stopMusic():this.playMusic())},i(s,"musicVolume",function(){var e;return e=t.localStorage.getItem("musicVolume")?Number(t.localStorage.getItem("musicVolume")):1},function(e){t.localStorage.setItem("musicVolume",e.toString())}),i(s,"musicMute",function(){var e=t.localStorage.getItem("musicMute");return e?"1"==e:!1},function(e){t.localStorage.setItem("musicMute",e?"1":"0")}),s.playEffect=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=1),t&&(this.effectRes=t),!this.effectMute){var i=RES.getRes(this.effectRes);this.effectChannel=i.play(0,e),this.effectChannel.volume=this.effectVolume}},s.stopEffect=function(){this.effectChannel&&(this.effectChannel.stop(),this.effectChannel=null)},s.switchEffect=function(){this.effectMute=!this.effectMute},i(s,"effectMute",function(){var e=t.localStorage.getItem("effectMute");return e?"1"==e:!1},function(e){t.localStorage.setItem("effectMute",e?"1":"0")}),i(s,"effectVolume",function(){var e;return e=t.localStorage.getItem("effectVolume")?Number(t.localStorage.getItem("effectVolume")):1},function(e){t.localStorage.setItem("effectVolume",e.toString())}),s.switchAll=function(){this.switchEffect(),this.switchMusic()},e}();t.SoundManager=e,egret.registerClass(e,"basic.SoundManager")}(basic||(basic={}));var basic;!function(t){var e=function(){function t(){}var e=__define,i=t;i.prototype;return t.init=function(t,e){this.stage=t,this.root=e},e(t,"width",function(){return this.stage.stageWidth}),e(t,"height",function(){return this.stage.stageHeight}),t}();t.StageProxy=e,egret.registerClass(e,"basic.StageProxy")}(basic||(basic={}));var basic;!function(t){var e=function(){function e(t,e){void 0===e&&(e=0),this._now_repeat=0,this._delay=t,this._repeat=e,this._start_time=egret.getTimer(),this._timer=null,this._obj=null,this._onTimer=null,this._onTimerComplete=null}var i=(__define,e),n=i.prototype;return n.addEventListener=function(e,i,n){this._obj=n,e==t.TimerEvent.TIMER?this._onTimer=i.bind(n):e==t.TimerEvent.TIMER_COMPLETE&&(this._onTimerComplete=i.bind(n))},n.removeEventListener=function(e,i,n){e==t.TimerEvent.TIMER?this._onTimer=null:e==t.TimerEvent.TIMER_COMPLETE&&(this._onTimerComplete=null)},n.start=function(){this._timer=new egret.Timer(Math.floor(this._delay/10)),this._timer.addEventListener(egret.TimerEvent.TIMER,this.onTimer.bind(this),this._obj),this._timer.start()},n.stop=function(){this._timer&&(this._timer.stop(),this._timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer.bind(this),this._obj),this._timer=null),this._obj=null},n.onTimer=function(e){var i;if(this._now_time=egret.getTimer()-this._start_time,i=Math.floor(this._now_time/this._delay),this._onTimer&&i!=this._now_repeat&&this._onTimer(t.TimerEvent),this._now_repeat=i,this._now_repeat>=this._repeat){try{this._timer&&(this._timer.stop(),this._timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimer,this._obj),this._timer=null)}catch(n){}this._onTimerComplete&&this._onTimerComplete(t.TimerEvent)}},e}();t.Timer=e,egret.registerClass(e,"basic.Timer")}(basic||(basic={}));var basic;!function(t){var e=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e);i.prototype;return e.TIMER="timer",e.TIMER_COMPLETE="timer_complete",e}(egret.Event);t.TimerEvent=e,egret.registerClass(e,"basic.TimerEvent")}(basic||(basic={}));var basic;!function(t){var e=function(){function t(){this.clear()}var e=__define,i=t,n=i.prototype;return n.containsKey=function(t){return t in this.obj},n.containsValue=function(t){for(var e in this.obj)if(this.obj[e]==t)return!0;return!1},n.put=function(t,e){this.containsKey(t)||(this.obj[t]=e,this._length++)},n.get=function(t){return this.containsKey(t)?this.obj[t]:null},n.remove=function(t){if(this.containsKey(t)){var e=this.obj;return delete this.obj[t],this._length--,e}return null},n.foreach=function(t,e){for(var i in this.obj)if(!t.call(e,i,this.obj[i]))break},n.randomGet=function(){var t=this.valueSet;return t[Math.floor(Math.random()*t.length)]},e(n,"keySet",function(){var t=[];for(var e in this.obj)t.push(e);return t}),e(n,"valueSet",function(){var t=[];for(var e in this.obj)t.push(this.obj[e]);return t}),e(n,"size",function(){return this._length}),n.clear=function(){this._length=0,this.obj={}},t}();t.HashMap=e,egret.registerClass(e,"basic.HashMap")}(basic||(basic={}));var basic;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.distancePoint=function(t,e){return this.distance(t.x,t.y,e.x,e.y)},t.distance=function(t,e,i,n){return Math.sqrt((t-i)*(t-i)+(e-n)*(e-n))},t.angle=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t.makeRandomInt=function(t,e){return void 0===e&&(e=0),Math.floor(Math.random()*(t-e))+e},t.makeRandomFloat=function(t,e){return void 0===e&&(e=0),Math.random()*(t-e)+e},t.makeRandomByRange=function(t,e){return t+(Math.random()*e*2-e)},t.makeOrderIntArray=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=1);for(var n=[],s=e;t>=s;s+=i)n.push(s);return n},t.mixArray=function(t){for(var e=0,i=Math.round(t.length/2);i>e;e++){var n=this.makeRandomInt(t.length),s=this.makeRandomInt(t.length),a=t[n];t[n]=t[s],t[s]=a}return t},t.mixArray2=function(t){for(var e,i,n=t[0].length,s=t.length,a=0,o=Math.round(n*s/2);o>a;a++){e=[this.makeRandomInt(n),this.makeRandomInt(s)],i=[this.makeRandomInt(n),this.makeRandomInt(s)];var r=t[e[0]][e[1]];t[e[0]][e[1]]=t[i[0]][i[1]],t[i[0]][i[1]]=r}return t},t.getRandomFromArray=function(t){return t[this.makeRandomInt(t.length)]},t.fixRange=function(t,e,i){return e>t?t=e:t>i&&(t=i),t},t.roundFix=function(t,e,i){return void 0===i&&(i=0),i>t?t+=e-i:t>=e&&(t-=e-i),t},t.radiusToAngle=function(t){return 180*t/Math.PI},t.angleToRadius=function(t){return t*Math.PI/180},t.turnRight=function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push([]);for(var s=0,a=t.length;a>s;s++)for(var o=0,r=t[s].length;r>o;o++)e[s][o]=t[r-o-1][s];return e},t.turnLeft=function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push([]);for(var s=0,a=t.length;a>s;s++)for(var o=0,r=t[s].length;r>o;o++)e[s][o]=t[o][r-s-1];return e},t.calDir=function(t,e,i,n){if(t==i&&e==n)return-1;var s,a=Math.atan2(n-e,i-t);return s=Math.abs(a)<Math.PI/4?0:Math.abs(a)>Math.PI/4*3?2:a>0?1:3},t.sign=function(t){return 0==t?0:t>0?1:-1},t}();t.MathUtils=e,egret.registerClass(e,"basic.MathUtils")}(basic||(basic={}));var basic;!function(t){var e=function(){function t(){}var e=(__define,t);e.prototype;return t.injectProp=function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=!0),!e)return!1;var n=!0;for(var s in e){var a=e[s];i&&"function"==typeof a||(t[s]=a)}return n},t.clone=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=!0);var n=e?new e:{};return this.injectProp(n,t,i),n},t.arrToIntArr=function(t){for(var e=0,i=t.length;i>e;e++)t[e]=parseInt(t[e]);return t},t.getUrlParams=function(){var t={},e=window.location.href,i=e.indexOf("?");if(0>i)return t;for(var n=e.substr(i+1).split("&"),s=0;s<n.length;s++){var a=n[s].split("=");
t[a[0]]=a[1]}return t},t.getUrlBase=function(){var t=window.location.href,e=t.indexOf("?");return t.substring(0,0>e?t.length:e)},t.anchorCenter=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.anchorRate(t,.5,.5,e,i)},t.anchorRate=function(t,e,i,n,s){void 0===n&&(n=0),void 0===s&&(s=0),0==n&&(n=t.width),0==s&&(s=t.height),t.x+=t.anchorOffsetX=n*e,t.y+=t.anchorOffsetY=s*i},t.obj2query=function(t){if(!t)return"";var e=[];for(var i in t)e.push(i+"="+t[i]);return e.join("&")},t}();t.Utils=e,egret.registerClass(e,"basic.Utils")}(basic||(basic={}));var Main=function(t){function e(){t.apply(this,arguments)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createChildren=function(){t.prototype.createChildren.call(this),basic.Dispatcher.init(),basic.StageProxy.init(this.stage,this),basic.SceneManager.init(this),basic.localStorage.init("qingyun");var e=new AssetAdapter;this.stage.registerImplementation("eui.IAssetAdapter",e),this.stage.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},n.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},n.onThemeLoadComplete=function(){basic.SceneManager.register("PK",ScenePK),basic.SceneManager.register("start",ScenesStart),basic.SceneManager.show("start"),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("actionload")},n.onResourceLoadComplete=function(t){"actionload"==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this))},n.onItemLoadError=function(t){},n.onResourceLoadError=function(t){this.onResourceLoadComplete(t)},n.onResourceProgress=function(t){},e}(eui.UILayer);egret.registerClass(Main,"Main");var ScenePK=function(t){function e(){t.call(this),this._tween_y=null,this._tween_xunzhang_alpha=null,this._tween_jian_alpha0=null,this._tween_jian_rotation0=null,this._tween_jian_alpha1=null,this._tween_jian_rotation1=null,this._tween_jian_x0=null,this._tween_jian_x1=null,this._timer_cd=null,this.cd_num=0,this.cd_image=[],this._tween_cd_x=[],this._tween_cd_y=[],this._tween_cd_alpha=[],this._tween_cd_rotation=[],this.skinName=ScenePKSkin}__extends(e,t);var i=(__define,e),n=i.prototype;return n.beforeShow=function(t){void 0===t&&(t=null),this.clean(),this.start()},n.beforeHide=function(t){void 0===t&&(t=null),this.clean()},n.start=function(){this._tween_y=egret.Tween.get(this.g_title).to({y:280},300,egret.Ease.backOut),this._tween_xunzhang_alpha=egret.Tween.get(this.img_xunzhang).wait(200).to({alpha:1},500),this._tween_jian_alpha0=egret.Tween.get(this.com_jian0).wait(500).to({alpha:1},400),this._tween_jian_alpha1=egret.Tween.get(this.com_jian1).wait(500).to({alpha:1},400),this._tween_jian_x0=egret.Tween.get(this.com_jian0).wait(700).to({x:230},500,egret.Ease.backOut),this._tween_jian_x1=egret.Tween.get(this.com_jian1).wait(700).to({x:415},500,egret.Ease.backOut),this._tween_jian_rotation0=egret.Tween.get(this.com_jian0).wait(700).to({rotation:0},500,egret.Ease.backOut),this._tween_jian_rotation1=egret.Tween.get(this.com_jian1).wait(700).to({rotation:0},500,egret.Ease.backOut);for(var t=0;6>t;t++)this.showCaiDaiAction(this.cd_num),this.cd_num+=1;this._timer_cd=new egret.Timer(600),this._timer_cd.addEventListener(egret.TimerEvent.TIMER,this.onShowCD,this),this._timer_cd.start()},n.onShowCD=function(t){this.showCaiDaiAction(this.cd_num),this.cd_num+=1},n.showCaiDaiAction=function(t){var e=new eui.Image,i=9e3+5e3*Math.random();e.y=-30,e.rotation=0,e.x=750*Math.random()-300,e.source="icon_caipian"+Math.floor(13*Math.random()).toString()+"_png",this.cd_image[t]=e,this.g_cd.addChild(this.cd_image[t]),this._tween_cd_y[t]=egret.Tween.get(this.cd_image[t]).to({y:this.height},i),this._tween_cd_rotation[t]=egret.Tween.get(this.cd_image[t],{loop:!0}).to({rotation:360},2e4),this._tween_cd_alpha[t]=egret.Tween.get(this.cd_image[t]).wait(i-4e3).to({alpha:0},1e3),this._tween_cd_x[t]=egret.Tween.get(this.cd_image[t]).to({x:e.x+250},i-5e3).to({x:e.x+300+100*Math.random()},5e3)},n.clean=function(){this.g_title.y=-170,this.img_xunzhang.alpha=0,this.com_jian0.alpha=0,this.com_jian1.alpha=0,this.com_jian0.rotation=-30,this.com_jian1.rotation=30,this.com_jian0.x=180,this.com_jian1.x=465,this._tween_y&&(this._tween_y.setPaused(!0),this._tween_y=null),this._tween_xunzhang_alpha&&(this._tween_xunzhang_alpha.setPaused(!0),this._tween_xunzhang_alpha=null),this._tween_jian_alpha0&&(this._tween_jian_alpha0.setPaused(!0),this._tween_jian_alpha0=null),this._tween_jian_rotation0&&(this._tween_jian_rotation0.setPaused(!0),this._tween_jian_rotation0=null),this._tween_jian_alpha1&&(this._tween_jian_alpha1.setPaused(!0),this._tween_jian_alpha1=null),this._tween_jian_rotation1&&(this._tween_jian_rotation1.setPaused(!0),this._tween_jian_rotation1=null),this._tween_jian_x0&&(this._tween_jian_x0.setPaused(!0),this._tween_jian_x0=null),this._tween_jian_x1&&(this._tween_jian_x1.setPaused(!0),this._tween_jian_x1=null),this._timer_cd&&(this._timer_cd.stop(),this._timer_cd.removeEventListener(egret.TimerEvent.TIMER,this.onShowCD,this),this._timer_cd=null);for(var t=0;t<this.cd_num;t++)this._tween_cd_y[t]&&(this._tween_cd_y[t].setPaused(!0),this._tween_cd_y[t]=null),this._tween_cd_x[t]&&(this._tween_cd_x[t].setPaused(!0),this._tween_cd_x[t]=null),this._tween_cd_rotation[t]&&(this._tween_cd_rotation[t].setPaused(!0),this._tween_cd_rotation[t]=null),this._tween_cd_alpha[t]&&(this._tween_cd_alpha[t].setPaused(!0),this._tween_cd_alpha[t]=null),this.g_cd.removeChild(this.cd_image[t]);this.cd_num=0,this.cd_image=[],this._tween_cd_x=[],this._tween_cd_y=[],this._tween_cd_alpha=[],this._tween_cd_rotation=[]},e}(basic.SceneBase);egret.registerClass(ScenePK,"ScenePK");var ScenesStart=function(t){function e(){t.call(this),this.skinName=ScenesStartSkin,this.btn_pk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onPkBtn,this),this.btn_win0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onWinBtn0,this),this.btn_win1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onWinBtn1,this),this.btn_win2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onWinBtn2,this),this.btn_lose0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLoseBtn0,this),this.btn_lose1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onLoseBtn1,this),this.btn_start.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onStartBtn,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onWinBtn0=function(t){0==this.rect_back.visible&&basic.SceneManager.removeBottomScene("PK"),this.win.start(0),this.win.visible=!0,this.lose.visible=!1,this.rect_back.visible=!0,this.startaction.visible=!1,this.startaction.clean()},n.onWinBtn1=function(t){0==this.rect_back.visible&&basic.SceneManager.removeBottomScene("PK"),this.win.start(1),this.win.visible=!0,this.lose.visible=!1,this.rect_back.visible=!0,this.startaction.visible=!1,this.startaction.clean()},n.onWinBtn2=function(t){0==this.rect_back.visible&&basic.SceneManager.removeBottomScene("PK"),this.win.start(2),this.win.visible=!0,this.lose.visible=!1,this.rect_back.visible=!0,this.startaction.visible=!1,this.startaction.clean()},n.onLoseBtn0=function(t){0==this.rect_back.visible&&basic.SceneManager.removeBottomScene("PK"),this.lose.start(0),this.lose.visible=!0,this.win.visible=!1,this.rect_back.visible=!0,this.startaction.visible=!1,this.startaction.clean()},n.onLoseBtn1=function(t){0==this.rect_back.visible&&basic.SceneManager.removeBottomScene("PK"),this.lose.start(1),this.lose.visible=!0,this.win.visible=!1,this.rect_back.visible=!0,this.startaction.visible=!1,this.startaction.clean()},n.onPkBtn=function(t){0==this.rect_back.visible&&basic.SceneManager.removeBottomScene("PK"),this.win.visible=!1,this.lose.visible=!1,this.rect_back.visible=!1,basic.SceneManager.addBottomScene("PK"),this.startaction.visible=!1,this.startaction.clean()},n.onStartBtn=function(t){0==this.rect_back.visible&&basic.SceneManager.removeBottomScene("PK"),this.win.visible=!1,this.lose.visible=!1,this.rect_back.visible=!1,this.startaction.visible=!0,this.startaction.info()},e}(basic.SceneBase);egret.registerClass(ScenesStart,"ScenesStart");var StartAction=function(t){function e(){t.apply(this,arguments),this.g_btn=[],this.tips_num=[5,9,20],this.title_num=[4,4,5],this.title_y=[],this.img_tips=[],this.img_title=[],this.timer_action=null,this.timer_waiting=null,this.tween_scaleX=null,this.tween_scaleY=null,this.airplay_type=0}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createChildren=function(){t.prototype.createChildren.call(this);for(var e=0;3>e;e++){for(var i=[],n=[],s=[],a=this["g_btn"+e],o=0;o<this.tips_num[e];o++){var r=this["img_tips"+e.toString()+"_"+o.toString()];n[o]=r}for(var h=0;h<this.title_num[e];h++){var c=this["img_title"+e.toString()+"_"+h.toString()];s[h]=c,i[h]=s[h].y}this.g_btn[e]=a,this.img_tips[e]=n,this.img_title[e]=s,this.title_y[e]=i,this.g_btn[e].touchChildren=!1,this.g_btn[e].addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onThisBtn,this)}},n.info=function(){this.clean();for(var t=0;3>t;t++){for(var e=0;e<this.tips_num[t];e++)this.img_tips[t][e].alpha=1,this.img_tips[t][e].scaleX=1,this.img_tips[t][e].scaleY=1;for(var i=0;i<this.title_num[t];i++)this.img_title[t][i].y=this.title_y[t][i]}this.now_Show_index=0,this.startAction()},n.clean=function(){this.timer_action&&(this.timer_action.stop(),this.timer_action.removeEventListener(egret.TimerEvent.TIMER,this.onAction,this),this.timer_action.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onActionComplete,this),this.timer_action=null),this.timer_waiting&&(this.timer_waiting.stop(),this.timer_waiting.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onWaitingComplete,this),this.timer_waiting=null)},n.onThisBtn=function(t){var e=Number(t.target.name);if(t.type==egret.TouchEvent.TOUCH_BEGIN){this.now_click=e;for(var i=0;3>i;i++)this.g_btn[i].scaleX=.85,this.g_btn[i].scaleX=.85;this.tween_scaleX=egret.Tween.get(this.g_btn[e]).to({scaleX:.884},100),this.tween_scaleY=egret.Tween.get(this.g_btn[e]).to({scaleY:.884},100),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onThisOverBtn,this)}},n.onThisOverBtn=function(t){this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onThisOverBtn,this),this.tween_scaleX=egret.Tween.get(this.g_btn[this.now_click]).to({scaleX:.816},100).to({scaleX:.85},100),this.tween_scaleY=egret.Tween.get(this.g_btn[this.now_click]).to({scaleY:.816},100).to({scaleY:.85},100),this.now_click=-1},n.startAction=function(){var t;this.now_show_text=0,t=this.title_num[this.now_Show_index],t+=this.tips_num[this.now_Show_index],t+=5,this.startAirPlayAction();for(var e=0;e<this.tips_num[this.now_Show_index];e++){egret.Tween.get(this.img_tips[this.now_Show_index][e]).to({alpha:0},400),egret.Tween.get(this.img_tips[this.now_Show_index][e]).wait(300).to({scaleX:0},100),egret.Tween.get(this.img_tips[this.now_Show_index][e]).wait(300).to({scaleY:0},100)}this.timer_action=new egret.Timer(150,t),this.timer_action.addEventListener(egret.TimerEvent.TIMER,this.onAction,this),this.timer_action.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onActionComplete,this),this.timer_action.start()},n.onAction=function(t){if(this.now_show_text<this.title_num[this.now_Show_index]){egret.Tween.get(this.img_title[this.now_Show_index][this.now_show_text]).to({y:this.title_y[this.now_Show_index][this.now_show_text]-20},300,egret.Ease.backOut).to({y:this.title_y[this.now_Show_index][this.now_show_text]},150)}else if(this.now_show_text>=this.title_num[this.now_Show_index]+4){var e=this.now_show_text-(this.title_num[this.now_Show_index]+4);if(e<this.tips_num[this.now_Show_index]){egret.Tween.get(this.img_tips[this.now_Show_index][e]).to({alpha:1},300),egret.Tween.get(this.img_tips[this.now_Show_index][e]).to({scaleX:1.2},200,egret.Ease.backOut).to({scaleX:1},100),egret.Tween.get(this.img_tips[this.now_Show_index][e]).to({scaleY:1},200,egret.Ease.backOut).to({scaleY:1},100)}}this.now_show_text+=1},n.onActionComplete=function(t){this.timer_action&&(this.timer_action.stop(),this.timer_action.removeEventListener(egret.TimerEvent.TIMER,this.onAction,this),this.timer_action.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onActionComplete,this),this.timer_action=null),this.timer_waiting=new egret.Timer(1e3,1),this.timer_waiting.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onWaitingComplete,this),this.timer_waiting.start()},n.onWaitingComplete=function(t){this.timer_waiting&&(this.timer_waiting.stop(),this.timer_waiting.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onWaitingComplete,this),this.timer_waiting=null),this.now_Show_index+=1,this.now_Show_index>=3&&(this.now_Show_index=0),this.startAction()},n.startAirPlayAction=function(){var t,e,i;this.com_airplay.rotation=0,this.airplay_type%2==0?(this.com_airplay.x=-134,this.com_airplay.skewY=180,this.com_airplay.y=this.height-80,e=this.height-400,i=-50,t=900):(this.com_airplay.x=770,this.com_airplay.skewY=0,this.com_airplay.y=this.height-80,e=this.height-400,i=50,t=-160);egret.Tween.get(this.com_airplay).to({x:t},1200),egret.Tween.get(this.com_airplay).wait(200).to({y:e},1e3),egret.Tween.get(this.com_airplay).wait(200).to({rotation:i},1e3);this.airplay_type+=1},e}(eui.Component);egret.registerClass(StartAction,"StartAction");var ThemeAdapter=function(){function t(){}var e=(__define,t),i=e.prototype;return i.getTheme=function(t,e,i,n){function s(t){e.call(n,t)}function a(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,a,null),RES.getResByUrl(t,s,this,RES.ResourceItem.TYPE_TEXT)},t}();egret.registerClass(ThemeAdapter,"ThemeAdapter",["eui.IThemeAdapter"]);